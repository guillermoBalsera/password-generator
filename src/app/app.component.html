<div class="card break-all">
  <!-- #4F46e5 -->
  <h1 class="text-4xl text-center text-gray-800 mt-6 mb-4">
    Password Generator
  </h1>
  <p class="password">
    @if (charging) {
      <span class="loader"></span>
    } @else {
      {{ password }}
    }
  </p>
  <mat-slider min="20" [color]="" max="1000" step="10" discrete [displayWith]="formatLabel" style="color: #4F46E5;">
    <input matSliderThumb [(ngModel)]="passwordLength">
  </mat-slider>
  <div class="button-container">
    <div class="relative inline-block text-left">
      <div>
        <button type="button"
                class="inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2
                text-sm text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50"
                id="menu-button" aria-expanded="false" aria-haspopup="true" (click)="toggleMenu()">
          {{ option }}
          <svg class="-mr-1 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd"
                  d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
                  clip-rule="evenodd"/>
          </svg>
        </button>
      </div>
      <div *ngIf="menuOpen"
           class="absolute right-0 z-10 mt-2 w-28 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"
           id="menu-items" role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1">
        <div class="py-1" role="none">
          <a href="#" class="block px-4 py-2 text-center text-sm text-gray-700 hover:bg-gray-100" role="menuitem" tabindex="-1"
             id="menu-item-0" [style]="option == 'Generic' ? active : ''"
             (click)="option='Generic'; callGenerator()">Generic</a>
          <a href="#" class="block px-4 py-2 text-center text-sm text-gray-700 hover:bg-gray-100" role="menuitem" tabindex="-1"
             id="menu-item-1" [style]="option == 'Magic' ? active : ''" (click)="option='Magic'; callGenerator()">Magic</a>
          <a href="#" class="block px-4 py-2 text-center text-sm text-gray-700 hover:bg-gray-100" role="menuitem" tabindex="-1"
             id="menu-item-2" [style]="option == 'Cats' ? active : ''" (click)="option='Cats'; callGenerator()">Cats</a>
          <a href="#" class="block px-4 py-2 text-center text-sm text-gray-700 hover:bg-gray-100" role="menuitem" tabindex="-1"
             id="menu-item-3" [style]="option == 'Bible' ? active : ''"
             (click)="option='Bible'; callGenerator()">Bible</a>
        </div>
      </div>
    </div>


    <div class="flex items-center">
      <input
        type="number"
        id="number"
        min="20"
        max="1000"
        class="border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 w-30 text-center"
        placeholder="Ingresa un nÃºmero"
        [(ngModel)]="passwordLength"
        oninput="if (this.value > 1000) this.value = 1000;
            if (this.value < 0) this.value = Math.abs(this.value);
            if (this.value === 0) this.value = 0;"/>
    </div>
    <button type="submit" (click)="callGenerator()" [disabled]="charging"
            [style.cursor]="charging ? 'wait' : 'pointer'"
            class="flex w-40 justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm
           leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2
           focus-visible:outline-offset-2 focus-visible:outline-indigo-600">
      Generate
    </button>
    <button type="submit" (click)="copyPassword()" [style.background-color]="copied ? 'green' : ''"
            [style.color]="copied ? 'white' : 'black'"
            class="flex w-40 justify-center rounded-md px-3 py-1.5 text-sm
           leading-6 shadow-sm focus-visible:outline focus-visible:outline-2
           focus-visible:outline-offset-2 focus-visible:outline-indigo-600 text-gray-900
           bg-white ring-1 ring-inset ring-gray-300 hover:bg-gray-50">
      <div class="button-divider">
        @if (copied) {
          <mat-icon aria-hidden="false" aria-label="Example home icon" fontIcon="done_all"></mat-icon>
        } @else {
          <mat-icon aria-hidden="false" aria-label="Example home icon" fontIcon="content_copy"></mat-icon>
        }
        {{ btnText }}
      </div>
    </button>
  </div>
</div>
